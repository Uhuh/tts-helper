<!DOCTYPE html>
<html>

<head>
    <title>Authenticating</title>
</head>
<style>
    html,
    body {
        margin: 0;
        padding: 0;

        font-size: 24px;

        display: flex;
        height: 100%;
        width: 100%;
        color: white;
        font-family: 'Inter', sans-serif;
        background-color: #201E25;
    }

    .auth {
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>

<body>
    <script>
        if (window.location.hash) {
            const token = window.location.hash.split('&')[0].split("=")[1];
            fetch(window.location.href, {
                method: "POST",
                body: token,
            }).then(() => {
                document.getElementById("status").innerText = "Authenticated for TTS Helper! (You can close this window now)";
            }).catch((err) => {
                console.error(err);
                document.getElementById("status").innerText = "Failed to authenticate. Check the console for more details.";
            });
        } else {
            console.error("No token found in URL");
            document.getElementById("status").innerText = "Failed to authenticate. Check the console for more details.";
        }
    </script>
    <div class="auth">
        <p id="status">Authenticating...</p>
    </div>
</body>

</html>