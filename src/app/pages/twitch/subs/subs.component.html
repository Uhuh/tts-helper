<div class="header">
  <span>Subscription Settings</span>
</div>

<app-label-block>
  <div header>Handle subscriptions</div>
  <div sub-text>Enable or disable TTS for all sub events.</div>
  <app-toggle class="right" [control]="enabled"/>
</app-label-block>

@if (enabled.value) {
  <app-label-block>
    <div header>Subs character limit</div>
    <div sub-text>The max allowed characters we'll play for a sub event!</div>
    <app-input placeholder="Enter a character limit" type="number" [control]="charLimit"/>
    <mat-error>
      @if (charLimit.hasError('min')) {
        Minimum characters allowed is 0.
      } @else if (charLimit.hasError('pattern')) {
        Character limit must be a whole number.
      }
    </mat-error>
  </app-label-block>

  <app-label-block>
    <div header>Gift subs message</div>
    <div sub-text>Customize what your TTS says when a user gifts subs!</div>
    <app-variable-table [variables]="variables">
      <span header>Use variables to reference info related to the gift</span>
      <span example-text>Thanks <span class="var">username</span> for the <span class="var">amount</span> subs!</span>
      <span result-text>Thanks Mei for the 2 subs!</span>
    </app-variable-table>
    <textarea
      placeholder="Thanks {username} for the {amount} subs!"
      [formControl]="giftMessage"
    ></textarea>
  </app-label-block>
}
